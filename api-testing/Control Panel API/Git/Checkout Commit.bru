meta {
  name: Checkout Commit
  type: http
  seq: 5
}

post {
  url: {{baseUrl}}/v2/comfygit/checkout
  body: json
  auth: none
}

body:json {
  {
    "ref": "abc123",
    "force": false
  }
}

docs {
  Checkout a specific commit or ref. Triggers server restart (exit code 42).

  Request:
  - ref: Commit hash or ref (required)
  - force: Skip uncommitted changes check (default: false)

  Response:
  - 400 { "error": "ref is required" }
  - 200 { "status": "warning", "reason": "uncommitted_changes", "message": "..." } - Needs force=true
  - 404 { "error": "..." } - Ref not found
  - 200 { "status": "success", "message": "Restarting to apply changes..." }

  WARNING: Server restarts after 300ms delay.
}
