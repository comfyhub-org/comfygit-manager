meta {
  name: Get Switch Status
  type: http
  seq: 4
}

get {
  url: {{baseUrl}}/v2/comfygit/switch_status
  body: none
  auth: none
}

docs {
  Get environment switch status for progress tracking.

  Response when idle:
  { "state": "idle", "message": "No switch in progress" }

  Response when switching:
  {
    "state": "syncing",
    "message": "Installing nodes...",
    "target_env": "production",
    "source_env": "default",
    "progress": 50
  }

  Response when unknown:
  { "state": "unknown", "message": "Server restarting or environment not detected" }

  Status file location: {workspace}/.metadata/.switch_status.json
}
